# Honor Webhosting - í”„ë¡œì íŠ¸ êµ¬ì¡°

## ì „ì²´ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
honor_webhosting/
â”œâ”€â”€ app/                          # Next.js ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/                 # App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx         # ë©”ì¸ ëœë”© í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ login/           # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/           # ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ manage/          # ì‚¬ì´íŠ¸ ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ sites/           # ğŸ¯ ë©€í‹° ì‚¬ì´íŠ¸ ì‹œìŠ¤í…œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [slug]/      # ë™ì  ë¼ìš°íŒ…
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx # slug â†’ í…œí”Œë¦¿ ë§¤í•‘
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ _templates/  # ì‚¬ì´íŠ¸ë³„ í…œí”Œë¦¿
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ onul/    # ì˜¤ëŠ˜ì²­ì†Œ
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ rubylab/ # ë£¨ë¹„ë©
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ default/ # ê¸°ë³¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ _onul_backup/ # ê¸°ì¡´ ì½”ë“œ ë°±ì—…
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ README.md    # ì‹œìŠ¤í…œ ê°€ì´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ api/             # API ë¼ìš°íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx       # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â””â”€â”€ globals.css      # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”‚   â”‚   â”œâ”€â”€ components/          # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ lib/                 # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”‚   â””â”€â”€ supabase/        # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ middleware.ts        # ë„ë©”ì¸ ë¼ìš°íŒ… (í–¥í›„)
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ next.config.js
â”œâ”€â”€ onul/                        # ê¸°ì¡´ onul í”„ë¡œì íŠ¸ (ì°¸ê³ ìš©)
â”œâ”€â”€ rubylab/                     # ê¸°ì¡´ rubylab í”„ë¡œì íŠ¸ (ì°¸ê³ ìš©)
â”œâ”€â”€ CLAUDE.md                    # í”„ë¡œì íŠ¸ ê°œìš”
â”œâ”€â”€ MIGRATION_GUIDE.md           # ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ
â””â”€â”€ PROJECT_STRUCTURE.md         # ì´ ë¬¸ì„œ
```

## í•µì‹¬: ë©€í‹° ì‚¬ì´íŠ¸ ì‹œìŠ¤í…œ

### ë™ì‘ íë¦„

```
ì‚¬ìš©ì ìš”ì²­
    â†“
/sites/onul
    â†“
[slug]/page.tsx
    â†“
slug = "onul" í™•ì¸
    â†“
SITE_TEMPLATES["onul"]
    â†“
OnulTemplate ë Œë”ë§
```

### í…œí”Œë¦¿ êµ¬ì¡°

```
_templates/
â”œâ”€â”€ onul/
â”‚   â”œâ”€â”€ index.tsx           # ë©”ì¸ í…œí”Œë¦¿ (Hero, About, Vision ë“± ëª¨ë“  ì„¹ì…˜)
â”‚   â””â”€â”€ components/         # onul ì „ìš© ì»´í¬ë„ŒíŠ¸ (í–¥í›„)
â”‚       â”œâ”€â”€ Header.tsx
â”‚       â”œâ”€â”€ Footer.tsx
â”‚       â””â”€â”€ ...
â”œâ”€â”€ rubylab/
â”‚   â”œâ”€â”€ index.tsx           # ë£¨ë¹„ë© í…œí”Œë¦¿
â”‚   â””â”€â”€ components/         # rubylab ì „ìš© ì»´í¬ë„ŒíŠ¸
â””â”€â”€ default/
    â”œâ”€â”€ index.tsx           # ê¸°ë³¸ í…œí”Œë¦¿
    â””â”€â”€ components/         # ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸
```

## íŒŒì¼ ì—­í•  ì„¤ëª…

### /app/src/app/sites/[slug]/page.tsx
**ë™ì  ë¼ìš°íŒ… ì»¨íŠ¸ë¡¤ëŸ¬**

- URLì˜ slug íŒŒë¼ë¯¸í„° ë°›ê¸°
- slugì— ë§ëŠ” í…œí”Œë¦¿ ì„ íƒ
- í…œí”Œë¦¿ ë Œë”ë§
- ë©”íƒ€ë°ì´í„° ìƒì„±

ì£¼ìš” ì½”ë“œ:
```typescript
const SITE_TEMPLATES = {
  onul: OnulTemplate,
  rubylab: RubylabTemplate,
};

export default async function SitePage({ params }) {
  const { slug } = await params;
  const Template = SITE_TEMPLATES[slug];
  return <Template />;
}
```

### /app/src/app/sites/_templates/onul/index.tsx
**ì˜¤ëŠ˜ì²­ì†Œ í…œí”Œë¦¿**

- ê¸°ì¡´ `/sites/onul/page.tsx`ë¥¼ ì´ë™í•œ ê²ƒ
- ëª¨ë“  ì„¹ì…˜ í¬í•¨:
  - Hero (ë©”ì¸ ë¹„ì£¼ì–¼)
  - About (íšŒì‚¬ ì†Œê°œ)
  - Vision (ë¹„ì „ ë° ì „ëµ)
  - Services (ì„œë¹„ìŠ¤ íƒ­)
  - Care (ì¼€ì–´ ì„œë¹„ìŠ¤)
  - Biz (íŒŒíŠ¸ë„ˆ)
  - People (ì¸ë ¥ íŒŒê²¬)
  - Education (êµìœ¡)
  - Building (ê±´ë¬¼ì¢…í•©ê´€ë¦¬)
  - Footer

### /app/src/app/sites/_templates/rubylab/index.tsx
**ë£¨ë¹„ë© í…œí”Œë¦¿**

- ë£¨ë¹„ë©ë§Œì˜ ê³ ìœ í•œ ë””ìì¸
- ê¸°ë³¸ êµ¬ì¡°ë§Œ ìƒì„±ë¨ (ì½˜í…ì¸ ëŠ” í–¥í›„ ì¶”ê°€)

### /app/src/app/sites/_templates/default/index.tsx
**ê¸°ë³¸ í…œí”Œë¦¿**

- ìƒˆë¡œìš´ ì‚¬ì´íŠ¸ ì¶”ê°€ ì‹œ ì‚¬ìš©
- ë²”ìš©ì ì¸ ë””ìì¸
- ë¹ ë¥¸ í”„ë¡œí† íƒ€ì… ì œì‘ìš©

## URL ë¼ìš°íŒ…

### ê°œë°œ í™˜ê²½

| URL | ë Œë”ë§ í…œí”Œë¦¿ |
|-----|-------------|
| http://localhost:3000/sites/onul | OnulTemplate |
| http://localhost:3000/sites/rubylab | RubylabTemplate |
| http://localhost:3000/sites/newsite | 404 (ë“±ë¡ í•„ìš”) |

### í”„ë¡œë•ì…˜ í™˜ê²½ (ê³„íš)

middlewareë¥¼ í†µí•œ ë„ë©”ì¸ â†’ slug ìë™ ë³€í™˜:

| ë„ë©”ì¸ | ë‚´ë¶€ ë¼ìš°íŒ… | ë Œë”ë§ |
|-------|-----------|--------|
| onul.com | /sites/onul | OnulTemplate |
| rubylab.com | /sites/rubylab | RubylabTemplate |
| admin.honor.com | /admin | ì–´ë“œë¯¼ í˜ì´ì§€ |

## ë°ì´í„° íë¦„ (í–¥í›„ ê³„íš)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Vercel (í•˜ë‚˜ì˜ ì•±)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  onul.com      â”€â”€â†’  OnulTemplate        â”‚
â”‚  rubylab.com   â”€â”€â†’  RubylabTemplate     â”‚
â”‚  admin.com     â”€â”€â†’  Admin Dashboard     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      Middleware       â”‚
        â”‚  ë„ë©”ì¸ â†’ slug ë³€í™˜    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Supabase                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  sites í…Œì´ë¸”                            â”‚
â”‚  - id, slug, name                       â”‚
â”‚  - template_type                        â”‚
â”‚  - custom_domain                        â”‚
â”‚  - settings (JSON)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  site_contents í…Œì´ë¸”                    â”‚
â”‚  - site_id, section                     â”‚
â”‚  - content (JSON)                       â”‚
â”‚  - images, videos                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ìƒˆë¡œìš´ ì‚¬ì´íŠ¸ ì¶”ê°€ í”Œë¡œìš°

### 1. ê°œë°œì ëª¨ë“œ (í˜„ì¬)

```bash
# 1. í…œí”Œë¦¿ ìƒì„±
mkdir -p app/src/app/sites/_templates/newsite/components
touch app/src/app/sites/_templates/newsite/index.tsx

# 2. í…œí”Œë¦¿ ì½”ë”©
# index.tsx íŒŒì¼ì— ì‚¬ì´íŠ¸ ì½”ë“œ ì‘ì„±

# 3. ë¼ìš°íŒ… ë“±ë¡
# [slug]/page.tsxì˜ SITE_TEMPLATESì— ì¶”ê°€
```

### 2. ì–´ë“œë¯¼ ëª¨ë“œ (í–¥í›„)

```
ì‚¬ìš©ì â†’ ì–´ë“œë¯¼ ë¡œê·¸ì¸
    â†“
"ìƒˆ ì‚¬ì´íŠ¸ ë§Œë“¤ê¸°" í´ë¦­
    â†“
ì‚¬ì´íŠ¸ ì •ë³´ ì…ë ¥ (ì´ë¦„, slug, í…œí”Œë¦¿ ì„ íƒ)
    â†“
Supabaseì— ì €ì¥
    â†“
ìë™ìœ¼ë¡œ /sites/newsite ìƒì„±
    â†“
ì½˜í…ì¸  í¸ì§‘ í˜ì´ì§€ë¡œ ì´ë™
```

## ê¸°ìˆ  ìŠ¤íƒ

| í•­ëª© | ê¸°ìˆ  |
|-----|-----|
| í”„ë ˆì„ì›Œí¬ | Next.js 16 (App Router) |
| ì–¸ì–´ | TypeScript |
| ìŠ¤íƒ€ì¼ë§ | Tailwind CSS 4 |
| ë°±ì—”ë“œ/DB | Supabase |
| ë°°í¬ | Vercel |
| ìƒíƒœ ê´€ë¦¬ | React Hooks (useState) |
| ë¼ìš°íŒ… | Next.js Dynamic Routes |

## ê°œë°œ ëª…ë ¹ì–´

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd app

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì‹¤í–‰
npm start

# ë¦°íŠ¸ ê²€ì‚¬
npm run lint
```

## í™˜ê²½ ë³€ìˆ˜ (.env.local)

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# (í–¥í›„ ì¶”ê°€ë  í™˜ê²½ ë³€ìˆ˜)
# NEXT_PUBLIC_SITE_DOMAIN=honor-webhosting.com
```

## íŒŒì¼ ë„¤ì´ë° ê·œì¹™

- **í˜ì´ì§€**: `page.tsx` (Next.js App Router ê·œì¹™)
- **ë ˆì´ì•„ì›ƒ**: `layout.tsx`
- **ì»´í¬ë„ŒíŠ¸**: `PascalCase.tsx` (ì˜ˆ: `Header.tsx`)
- **ìœ í‹¸ë¦¬í‹°**: `camelCase.ts` (ì˜ˆ: `formatDate.ts`)
- **íƒ€ì…**: `types.ts` ë˜ëŠ” `*.types.ts`
- **ìƒìˆ˜**: `UPPERCASE` (ì˜ˆ: `SITE_TEMPLATES`)

## Git ì „ëµ (ì œì•ˆ)

```
main (production)
  â†“
develop (development)
  â†“
feature/site-onul      (onul ì‚¬ì´íŠ¸ ê°œë°œ)
feature/site-rubylab   (rubylab ì‚¬ì´íŠ¸ ê°œë°œ)
feature/admin-panel    (ì–´ë“œë¯¼ ê°œë°œ)
```

## ì„±ëŠ¥ ìµœì í™” í¬ì¸íŠ¸

1. **ì •ì  ìƒì„±**: `generateStaticParams`ë¡œ ë¹Œë“œ ì‹œ í˜ì´ì§€ ìƒì„±
2. **ì´ë¯¸ì§€ ìµœì í™”**: Next.js Image ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
3. **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**: í…œí”Œë¦¿ë³„ ìë™ ë¶„ë¦¬
4. **ìºì‹±**: Vercel Edge Network í™œìš©

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. **í™˜ê²½ ë³€ìˆ˜**: `.env.local`ì— ë¯¼ê° ì •ë³´ ì €ì¥ (git ì œì™¸)
2. **Supabase RLS**: Row Level Securityë¡œ ë°ì´í„° ì ‘ê·¼ ì œì–´
3. **ì¸ì¦**: Supabase Auth ì‚¬ìš©
4. **XSS ë°©ì§€**: Reactì˜ ìë™ ì´ìŠ¤ì¼€ì´í”„ í™œìš©
5. **CSRF ë°©ì§€**: Next.jsì˜ ë‚´ì¥ ë³´í˜¸ ê¸°ëŠ¥

## í…ŒìŠ¤íŠ¸ ì „ëµ (í–¥í›„)

```
app/
â”œâ”€â”€ __tests__/           # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ e2e/                 # E2E í…ŒìŠ¤íŠ¸ (Playwright)
â””â”€â”€ components/
    â””â”€â”€ __tests__/       # ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
```

## ì°¸ê³  ë¬¸ì„œ

- [CLAUDE.md](./CLAUDE.md) - í”„ë¡œì íŠ¸ ê°œìš” ë° ì»¨ë²¤ì…˜
- [MIGRATION_GUIDE.md](./MIGRATION_GUIDE.md) - ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ
- [app/src/app/sites/README.md](./app/src/app/sites/README.md) - Sites ì‹œìŠ¤í…œ ê°€ì´ë“œ
- [Next.js ë¬¸ì„œ](https://nextjs.org/docs)
- [Supabase ë¬¸ì„œ](https://supabase.com/docs)

## ë¬¸ì˜ ë° ì§€ì›

í”„ë¡œì íŠ¸ ê´€ë ¨ ì§ˆë¬¸ì´ë‚˜ ì´ìŠˆëŠ” Claude Codeë¥¼ í†µí•´ ì²˜ë¦¬í•©ë‹ˆë‹¤.
